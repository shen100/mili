webpackJsonp([32],{"17iU":function(t,e,r){t.exports=r.p+"img/round_check_fill.df1f30b.png"},Azfc:function(t,e,r){var s=r("VzEP");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);r("rjj0")("5e035456",s,!0)},F9vk:function(t,e,r){"use strict";e.a={MIN_PWD:6}},G076:function(t,e,r){"use strict";function s(t){r("Azfc")}Object.defineProperty(e,"__esModule",{value:!0});var o=r("ZvrM"),a=r("T1IV"),n=r("VU/8"),i=s,c=n(o.a,a.a,!1,i,null,null);e.default=c.exports},T1IV:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"golang-forget-container"},[s("h1",[t._v("账号安全中心")]),s("p",{staticClass:"golang-forget-title"},[t._v("重置密码")]),s("div",{staticClass:"golang-forget-form",attrs:{id:"reset"}},[t.error?t._e():s("Row",{staticClass:"reset-container"},[t.success?t._e():s("Form",{ref:"formCustom",staticClass:"reset-form",attrs:{model:t.formCustom,rules:t.ruleCustom,"label-width":80}},[s("Form-item",{attrs:{label:"新密码",prop:"passwd"}},[s("i-input",{staticClass:"signup-input",attrs:{size:"large",type:"password"},model:{value:t.formCustom.passwd,callback:function(e){t.formCustom.passwd=e},expression:"formCustom.passwd"}})],1),s("Form-item",{attrs:{label:"确认密码",prop:"passwdCheck"}},[s("i-input",{staticClass:"signup-input",attrs:{size:"large",type:"password"},nativeOn:{keyup:function(e){t.handleKeyUp(e)}},model:{value:t.formCustom.passwdCheck,callback:function(e){t.formCustom.passwdCheck=e},expression:"formCustom.passwdCheck"}})],1),s("i-button",{staticClass:"reset-pwd-button",attrs:{size:"large",type:"primary"},on:{click:function(e){t.handleSubmit("formCustom")}}},[t._v("重置密码")])],1),t.success?s("div",{staticClass:"signup-form"},[s("p",{staticClass:"forget-success-icon"},[s("img",{attrs:{src:r("17iU"),alt:""}})]),s("p",{staticClass:"forget-success-info"},[t._v("密码修改成功  "),s("a",{staticClass:"forget-resend",attrs:{href:"/signin"}},[t._v("立即登陆")])])]):t._e()],1),t.error?s("div",{staticClass:"signup-form"},[s("p",{staticClass:"forget-success-info",staticStyle:{"margin-top":"0","padding-top":"30px"}},[t._v(t._s(t.error))])]):t._e()],1)])])},o=[],a={render:s,staticRenderFns:o};e.a=a},VzEP:function(t,e,r){e=t.exports=r("FZ+f")(!1),e.push([t.i,"body{background-color:#e1e1e1}.golang-forget-container{width:1200px;margin:0 auto;height:560px;margin-top:20px;background-color:#fff;padding:20px}.golang-forget-container h1{font-size:24px}.golang-forget-title{height:30px;line-height:30px;background-color:#80bd01;color:#fff;font-size:14px;margin-top:15px;padding-left:10px}.golang-forget-form{width:400px;margin:0 auto;margin-top:60px}.forget-button{width:400px}.reset-pwd-button{margin-left:80px;width:300px}.forget-success-icon{text-align:center}.forget-success-icon img{widows:80px;height:80px}.forget-success-info{text-align:center;font-size:16px;font-weight:700;margin-top:30px}.reset-container{padding-top:20px}.reset-form{width:380px;margin:0 auto}.signup-input{width:300px}.forget-resend{color:#007fff;margin-left:10px;cursor:pointer}.forget-resend:hover{color:#007fff;text-decoration:none;text-decoration:underline}.not-resend{color:#9e9e9e;margin-left:10px;cursor:not-allowed}",""])},ZvrM:function(t,e,r){"use strict";var s=r("y8ae"),o=r("F9vk"),a=r("V8bM"),n=r("FhoZ"),i=r.n(n),c="",u="";e.a={data:function(){var t=this;return c=this.$route.params.id||"",u=this.$route.params.key||"",{loading:!1,formCustom:{passwd:"",passwdCheck:""},success:!1,ruleCustom:{passwd:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:function(e,r,s){""===r?s(new Error("请输入密码")):r.length<o.a.MIN_PWD?s(new Error("密码长度不能少于"+o.a.MIN_PWD+"位")):(""!==t.formCustom.passwdCheck&&t.$refs.formCustom.validateField("passwdCheck"),s())},trigger:"blur"}],passwdCheck:[{required:!0,message:"请输入确认密码",trigger:"blur"},{validator:function(e,r,s){""===r?s(new Error("请再次输入密码")):r!==t.formCustom.passwd?s(new Error("两次输入的密码不一致")):s()},trigger:"blur"}]}}},validate:function(t){var e=t.params,r=!!e.id,s=!!e.key;return r&&s},asyncData:function(t){return a.a.verifyUrl({client:t.req,params:{id:t.params.id,key:t.params.key}}).then(function(e){return e.errNo===s.a.SUCCESS?{user:t.user,error:""}:{user:t.user,error:e.msg}})},head:function(){return{title:"重置密码"}},methods:{handleKeyUp:function(t){if(13===t.keyCode)return this.handleSubmit("formCustom")},handleSubmit:function(t){var e=this;if(!c||!u)return this.$Message.error({duration:i.a.messageDuration,closable:!0,content:"访问页面有误"});this.$refs[t].validate(function(t){if(t){if(e.loading)return;e.loading=!0,a.a.resetPwd({params:{id:c,key:u},body:{password:e.formCustom.passwd}}).then(function(t){e.loading=!1,0===t.errNo?e.success=!0:e.$Message.error({duration:i.a.messageDuration,closable:!0,content:t.msg})}).catch(function(t){e.loading=!1,e.$Message.error({duration:i.a.messageDuration,closable:!0,content:t.message})})}})}}}},y8ae:function(t,e,r){"use strict";e.a={SUCCESS:0,ERROR:1,LOGIN_TIMEOUT:1001,IN_ACTIVE:1002}}});
//# sourceMappingURL=_key.2bb02e99058d1641768c.js.map